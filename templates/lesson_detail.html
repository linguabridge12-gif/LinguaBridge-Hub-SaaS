{% extends "base.html" %}

{% block content %}
<div class="lesson-detail" data-lesson-id="{{ lesson.id }}">
  <h2>{{ lesson.title }}</h2>
  <p>{{ lesson.content }}</p>

  {% if lesson.quiz %}
    <button onclick="toggleQuiz('quiz-{{ lesson.id }}', {{ lesson.id }})" class="quiz-btn">Show Quiz</button>
    <div id="quiz-{{ lesson.id }}" style="display:none; margin-top:10px;">
      {% for q in lesson.quiz %}
        <p><strong>Q:</strong> {{ q.question }}</p>
        <p><strong>A:</strong> {{ q.answer }}</p>
      {% endfor %}
    </div>
  {% endif %}

  <h3>Give Feedback</h3>
  <form method="post" action="{{ url_for('feedback', lesson_id=lesson.id) }}">
    <label>Locale:</label><br>
    <input type="text" name="locale"><br>
    <label>Comment:</label><br>
    <textarea name="comment"></textarea><br>
    <label>Rating (1-5):</label><br>
    <input type="number" name="rating" min="1" max="5"><br>
    <button type="submit" class="btn btn-primary">Submit Feedback</button>
  </form>
</div>
{% endblock %}
